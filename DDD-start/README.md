# DDD Start

# DDD Start

# Chapter 1 도메인 모델의 시작
## 도메인 모델
- 도메인 자체를 표현하는 개념적인 모델을 의미하지만, 도메인 계층을 구현할 때 사용하는 객체 모델을 언급할 때에도 '도메인 모델'  이란 용어를 사용한다.  
도메인 계층의 객체 모델을 표현할 때 도메인 모델이라고 표현하고 있다.

### 개념 모델과 구현모델
- 처음부터 완벽한 개념 모델을 만들기보다는 전반적인 개요를 알 수 있는 수준으로 개념 모델을 작성해야한다.
- 프로젝트 초기에는 개요 수준의 개념모델로 도메인에 대한 전체 윤곽을 이해하는데 집중하고, 구현하는 과정에서 개념 모델을 구현모델로 점진적으로 발전시켜 나가야 한다.

## 도메인 모델 패턴
사용자인터페이스(UI) : 사용자의 요청을 처리하고 사용자에게 정보를 보여준다.  
응용 (Application) : 사용자가 요청한 기능을 실행한다.  
도메인 : 시스템이 제공할 도메인의 규칙을 구현한다.  
인프라스트럭처(Infrastructure) : 데이터베이스나 메시징 시스템과 같은 외부 시스팀과의 연동을 처리한다.  

## 도메인 모델 도출
- 구현을 시작하려면 도메인에 대한 초기 모델이 필요하다.
- 도메인을 모델링할 때 기본이 되는 작업은 모델을 구성하는 **핵심 구성요소**, **규칙**, **기능**을 찾는것이다.
- 이 과정은 요구사항에서 출발한다.

### 문서화
- 문서화를 하는 주된 이유는 지식을 공유하기 위함이다.
- 전반적인 기능 목록이나 모듈 구조, 빌드 과정은 코드를 보고 직접 이해하는 것보다 상위 수준에서 정리한 문서를 참조하는 것이 소프트웨어  
전반을 빠르게 이해하는데 도움이 된다.

## 엔티티와 밸류
- 도출한 모델은 크게 엔티티(Entity)와 밸류(Value)로 구분할 수 있다. 

### 엔티티
- 가장 큰 특징은 식별자를 갖는다
- 각 엔티티는 서로 다른 식별자를 갖는다.

### 밸류 타입 
- 개념적으로 완전한 하나를 표현할 때 사용한다.
- 코드의 의미를 더 잘 이해할 수 있도록 한다.
- 밸류 객체의 데이터를 변경할 때는 기존 데이터를 변경하기 보다는 변경한 데이터를 갖는 새로운 밸류 객체를 생성하는 방식을 선호한다.
- 밸류 타입을 불변으로 구현하는 가장 중요한 이유는 안전한 코드를 작성할 수 있다는 것이다.
- 밸류 타입이 같은지를 비교할때는 모든 속성이 같은지 비교해야 한다.

### 엔티티 식별자와 밸류타입
- Money가 단순 숫자가 아닌 도메인의 '돈'을 의미하는 것처럼 이런 식별자는 단순한  
문자열이 아니라 도메인엣 ㅓ특별한 의미를 지니는 경우가 많기 떄문에 식별자를 위한 밸류타입을 사용해서 의미가 잘 드러나도록 할 수 있다.

### 도메인 모델에 set 메서드 넣지 않기
- 도메인 모델에 get/set 메서드를 무조건 추가하는 것은 좋지 않은 버릇이다.
- set 메서드는 도메인의 핵심 개념이나 의도를 코드에서 사라지게 한다.
- 도메인 객체가 불완전한 상태로 사용되는 것을 막으려면 생성시점에 필요한 것을 전달해 주어야한다.
- 즉, 생성자를 통해 필요한 데이터를 모두 받아야한다.

## 도메인 용어
- 도메인 용어는 좋은 코드를 만드는 데 매우 증요한 요소다
- 알맞은 영어 단어를 찾는 것은 쉽지 않은 일이지만 시간을 들여 찾는 노력을 해야한다.